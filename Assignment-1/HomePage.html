<!DOCTYPE html>
<head>
<style>
    .header {
        background-color: rgb(15, 15, 15);
        display: flex;
        justify-content: center;
        align-items: center;
        width: 1264px;
        height: 80px;
    }
    .text{
        color: white;
        font-size: 30px;
        margin: 50px;
        font-family: sans-serif;
        text-shadow: orange 2px 2px;
    }
    .header-image {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 1264px;
        height: 300px;
        position: relative;
    }

    .header-image .centered .la-text {
        font-size: 35px;
        text-align: center;
        color: orange;
        font-family: sans-serif;
        text-shadow: white 2px 2px;
    }
    .header-image img{
        height:300px;
        width: 1264px;
        object-fit: cover;
        object-position: 50% 85%;
    }
    .centered {
        position: absolute;
        float: left;
        left: 450px;
        top: 95px;
    }

    #general-info{
        height:600px;
        width: 1264px;
        justify-content: center;
        background-color: rgb(47, 47, 47);
        text-align: center;
        display: flex;
        color: white;
    }

    .general-info-child{
        height:430px;
        width: 260px;
        justify-content: center;
        text-align: center;
        margin-right: 20px;
        margin-top: 90px;
        margin-bottom: 90px;
        background-color: rgb(15, 15, 15);;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        border-radius: 5px;
    }

    .general-info-child-image{
        height:150px;
        width: 240px;
        justify-content: center;
        text-align: center;
        margin: 10px;
    }

    .general-info-child-text{
        height:250px;
        width: 240px;
        justify-content: center;
        text-align: center;
        margin: 10px;
    }

    #la-info{
        height:600px;
        width: 1264px;
        justify-content: center;
        background-color: rgb(15, 15, 15);
        text-align: center;
    }

    .la-info-child{
        height:240px;
        width: 900px;
        justify-content: center;
        background-color: rgb(15, 15, 15);;
        text-align: center;
        margin-left: 177px;
        margin-right: 177px;
        margin-top: 180px;
        display: flex;
    }

    .la-info-child-image{
        height:220px;
        width: 400px;
        justify-content: center;
        text-align: center;
        margin: 10px;
    }

    .la-info-child-text{
        height:220px;
        width: 420px;
        justify-content: center;
        text-align: center;
        margin: 10px;
    }

    #la-info-2{
        height:600px;
        width: 1264px;
        justify-content: center;
        background-color: rgb(47, 47, 47);
        text-align: center;
    }

    .la-info-2-child{
        height:200px;
        width: 900px;
        justify-content: center;
        text-align: center;
        margin-left: 177px;
        margin-right: 177px;
        display: flex;
    }

    .la-info-2-child-image{
        height:195px;
        width: 295px;
        justify-content: center;
        text-align: center;
        margin: 5px;
    }

    .la-info-2-child-text{
        height:195px;
        width: 545px;
        justify-content: center;
        text-align: center;
        margin: 5px;
    }

    .footer{
        height:150px;
        width: 1264px;
        justify-content: center;
        background-color: rgb(15, 15, 15);;
        text-align: center;
        display: flex;
        align-items: center;
        color: white;
    }

    .footer-child-quote {
    width: 50%;
    height: 100%;
    float: left;
    text-align: center;
    color: white;
    }   
    
    .footer-child-dev-details{
    width: 50%;
    height: 100%;
    float: left;
    text-align:center;
    color: white;
    }   

    #container {
        display: flex;
        justify-content: center;
        flex-direction: column;
    }

    a{
        text-decoration: none;
    }

    body{
        margin: 0px; 
        padding: 0px;
    }
</style>
<script>
    function mouseOver(elem){
        elem.style.color = 'orange';
        elem.style.setProperty('text-shadow', 'white 2px 2px');
    }
    function mouseLeave(elem){
        elem.style.color = 'white';
        elem.style.setProperty('text-shadow', 'orange 2px 2px');
    }

    function loadFromJson(){
        fetch("data/data.json")
        .then(response => {
        return response.json();
    })
    .then(function(jsonData) {
        renderData(jsonData);
    })
    }

    function renderData(jsonData){
        
        populateGeneralInfoTag(jsonData)

        populateLaInfoTag(jsonData)

        populateLaInfo2Tag(jsonData)
    }

    function createImageTag(element, name = ""){
        let image = document.createElement("img");

        if (element !== undefined && name === ""){
            image.src = "data/".concat(element["image"]);
            image.alt = element["heading"];
        }
        else{
            image.src = "data/".concat("lasky.png");
            image.alt = "Los Angeles Sky View";
        }

        image.style.width = "100%";
        image.style.height = "100%";

        return image;
    }

    function createDivTagWithClassName(className){
        let div = document.createElement("div");
        div.className = className;
        return div;
    }

    function populateGeneralInfoTag(jsonData){
        let general_info = document.getElementById("general-info");
        
        Object.values(jsonData["section2"]).forEach(element => {
            var general_info_child = createDivTagWithClassName("general-info-child");

            var image_div = createDivTagWithClassName("general-info-child-image");

            let image = createImageTag(element);

            image_div.appendChild(image);

            let text_div = createDivTagWithClassName("general-info-child-text");

            let heading = document.createElement("p");
            heading.className = "general-info-child-text-heading";
            heading.innerText = element["heading"];
            heading.style = "text-align: left; margin: 0px; font-size: 20px; font-family:sans-serif;";

            let paragraph = document.createElement("p");
            paragraph.className = "general-info-child-text-paragraph";
            paragraph.innerText = element["text"];
            paragraph.style = "text-align: left; font-family:sans-serif;";

            text_div.appendChild(heading);
            text_div.appendChild(paragraph);

            general_info_child.appendChild(image_div);
            general_info_child.appendChild(text_div);

            general_info.appendChild(general_info_child);
        });
    }

    function populateLaInfoTag(jsonData){
        var la_info = document.getElementById("la-info");
       
        var child_div = createDivTagWithClassName("la-info-child");

        var image_div = createDivTagWithClassName("la-info-child-image");
        
        let image = createImageTag(undefined, "lasky.png");
        
        let text_div = document.createElement("div");
        text_div.className = "la-info-child-text";

        Object.values(jsonData["section3"]["text"]).forEach(element => {
            let text = document.createElement("p");
            text.innerText = element
            text.style = "color: white; margin-top: 0px; text-align: justify; font-family:sans-serif; font-size: 15px;";

            text_div.appendChild(text);
        });
        
        image_div.appendChild(image);

        child_div.append(text_div);
        child_div.append(image_div);

        la_info.appendChild(child_div);
    }

    function populateLaInfo2Tag(jsonData){
        var la_info_2 = document.getElementById("la-info-2");
        
        let align = true;
        Object.values(jsonData["section4"]).forEach(element => {
            align = !align;
            console.log(align);
            var child_div = createDivTagWithClassName("la-info-2-child");

            let image_div = createDivTagWithClassName("la-info-2-child-image");
            let image = createImageTag(element);
            image_div.append(image);

            let text_div = createDivTagWithClassName("la-info-2-child-text");
            let heading = document.createElement("p");
            heading.innerText = element["heading"];
            heading.style = "color: white; text-align: left; margin-top: 0px; font-size: 20px; font-family:sans-serif;";

            let paragraph = document.createElement("p");
            paragraph.innerText = element["text"];
            paragraph.style = "color: white; font-size: 15px; margin-bottom: 0px; text-align: justify; font-family:sans-serif;";
        
            text_div.append(heading);
            text_div.append(paragraph);

            if (align === false){
                child_div.style.setProperty('margin-top', '100px');
                heading.style.setProperty("text-align", "left");

                child_div.append(image_div);
                child_div.append(text_div);
            }
            else{
                child_div.style.setProperty('margin-bottom', '100px');
                heading.style.setProperty("text-align", "right");

                child_div.append(text_div);
                child_div.append(image_div);
            }

            la_info_2.appendChild(child_div);
        });
    }
</script>
</head>
<body onload="loadFromJson()">
    <div id="container">
        <div class="header">
            <a class="text"
            href = "HomePage.html"
            onmouseover="mouseOver(this)" 
            onmouseleave="mouseLeave(this)"
            onclick="onCLick(this)">Home</a>
            
            <a class="text" 
            href = "ErrorPage.html"
            onmouseover="mouseOver(this)" 
            onmouseleave="mouseLeave(this)"
            onclick="onCLick(this)">Explore</a>

            <a class="text"
            href = "ErrorPage.html"
            onmouseover="mouseOver(this)" 
            onmouseleave="mouseLeave(this)"
            onclick="onCLick(this)">Contact</a>
        </div>
        <div class="header-image">
            <img class="parent" src="data\rodeo-drive.jpg" alt="LA - The City of Angels">
            <div class="centered">
                <p class="la-text">LA - The City of Angels</p>
            </div>
        </div>
        <div id="general-info">
        </div>
        <div id="la-info">
        </div>
        <div id="la-info-2">
        </div>
        <div class="footer">
            <div class="footer-child-quote">
                <p style="margin-top: 40px; color: white; font-family: sans-serif;">Tip the world on its side and everything loose will land
                <br>in Los Angeles.</br>
                <br>-Frank Lloyd Wright</br>
                </p>
            </div>
            <div class="footer-child-dev-details">
                <p style="margin-top: 10px; font-family: sans-serif;">Designed by
                    <br></br>
                    <br>Rohit Kumar Putcha</br></p>
                    <p style="font-family: sans-serif;"><a href="mailto: rputcha@usc.edu" style="color: white;"> rputcha@usc.edu</a>
                    <br><a href="tel:425-435-1911" style="color: white;">(+1) 425 435 1911</a></br>
                    </p>
            </div>
        </div>
    </div>
</body>